{"id":"acr-automotive-0w3","title":"E2E: Image Manager UI test suite (deferred)","description":"Standalone test suite for Image Manager UI: upload via drag-drop, Supabase Storage interactions, delete/cleanup. Deferred from export/import E2E suite. Blocked by acr-automotive-4hy.","status":"open","priority":3,"issue_type":"feature","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:43:19.9351245-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T02:43:19.9351245-06:00","dependencies":[{"issue_id":"acr-automotive-0w3","depends_on_id":"acr-automotive-4hy","type":"blocks","created_at":"2026-02-05T02:43:42.2261725-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1az","title":"E2E tests for i18n (Spanish/English column headers and status values)","status":"open","priority":3,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T02:17:10.6386468-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T02:17:10.6386468-06:00","dependencies":[{"issue_id":"acr-automotive-1az","depends_on_id":"acr-automotive-28v","type":"blocks","created_at":"2026-02-07T02:17:20.6901538-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2","title":"Refactor: SKU-based matching + Excel template validation + remove hidden columns","description":"Simplify the import pipeline by matching parts via ACR SKU instead of hidden UUID columns. Add Excel-level formula validation (Errors column, data validation dropdowns) as first line of defense. Remove hidden columns (_id, _action, _part_id). Delete via Status=Eliminar only. Eliminates E19, stale export issues, and makes the template user-friendly.","design":"## Design Decisions\n- Parts: match by acr_sku (immutable business key)\n- VAs: match by (acr_sku, make, model) composite key, years updatable\n- Aliases: match by (alias, canonical_name) composite key, type updatable\n- Status column on ALL sheets: Activo/Inactivo/Eliminar (parts), Activo/Eliminar (VAs/aliases)\n- Missing rows = UNCHANGED (no auto-delete)\n- Eliminar on Parts = hard delete + CASCADE (VAs, cross-refs, images)\n- Eliminar on VAs/Aliases = hard delete scoped (no parent/sibling impact)\n- Hidden columns (_id, _action, _part_id) removed entirely from template\n- Errors column with Excel formulas = first-line-of-defense validation\n- Remove all deprecated Cross References sheet code\n- Remove legacy single-row header support\n\n## Plan\n~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":1,"issue_type":"epic","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:02:54.9323518-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:59:12.527016-06:00","closed_at":"2026-02-07T16:59:12.527016-06:00","close_reason":"All 9 tasks complete — import pipeline refactored to SKU-based matching"}
{"id":"acr-automotive-1g2.1","title":"Update types and constants (foundation)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:46:19.4255489-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:11:30.786029-06:00","closed_at":"2026-02-07T16:11:30.786029-06:00","close_reason":"Types, constants, validation types, diff types updated","dependencies":[{"issue_id":"acr-automotive-1g2.1","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:46:19.4271035-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.2","title":"Update ExcelExportService (template generation)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:46:36.8457715-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:16:32.4855844-06:00","closed_at":"2026-02-07T16:16:32.4855844-06:00","close_reason":"Export service updated, hidden cols removed, Errors formulas added","dependencies":[{"issue_id":"acr-automotive-1g2.2","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:46:36.8473254-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.3","title":"Update ExcelImportService (parser)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:48:42.1050784-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:18:41.1247017-06:00","closed_at":"2026-02-07T16:18:41.1247017-06:00","close_reason":"Parser updated, hidden col detection removed, Errors formula reading added","dependencies":[{"issue_id":"acr-automotive-1g2.3","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:48:42.1066921-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.4","title":"Update fetchExistingData (data layer)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:48:57.1067497-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:36:59.2737405-06:00","closed_at":"2026-02-07T16:36:59.2737405-06:00","close_reason":"Batch 2 complete — SKU-based matching in data layer, validation, and diff engines","dependencies":[{"issue_id":"acr-automotive-1g2.4","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:48:57.1083337-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.5","title":"Update ValidationEngine","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:51:05.6220754-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:36:59.2774127-06:00","closed_at":"2026-02-07T16:36:59.2774127-06:00","close_reason":"Batch 2 complete — SKU-based matching in data layer, validation, and diff engines","dependencies":[{"issue_id":"acr-automotive-1g2.5","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:51:05.6237048-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.6","title":"Update DiffEngine (SKU-based matching)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:51:19.5668809-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:36:59.2816249-06:00","closed_at":"2026-02-07T16:36:59.2816249-06:00","close_reason":"Batch 2 complete — SKU-based matching in data layer, validation, and diff engines","dependencies":[{"issue_id":"acr-automotive-1g2.6","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:51:19.5684446-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.7","title":"Update ImportService (execution)","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:56:52.3757505-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:44:21.1899604-06:00","closed_at":"2026-02-07T16:44:21.1899604-06:00","close_reason":"committed in 954e992","dependencies":[{"issue_id":"acr-automotive-1g2.7","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:56:52.3773331-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.8","title":"Adapt stress tests for new format","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:57:06.7366452-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:44:21.1942143-06:00","closed_at":"2026-02-07T16:44:21.1942143-06:00","close_reason":"committed in 954e992","dependencies":[{"issue_id":"acr-automotive-1g2.8","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:57:06.7377042-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-1g2.9","title":"Cleanup deprecated code and unit tests","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T15:57:20.7983514-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T16:58:19.6890819-06:00","closed_at":"2026-02-07T16:58:19.6890819-06:00","close_reason":"All tests/scripts updated for SKU-based matching, tsc --noEmit passes with 0 errors","dependencies":[{"issue_id":"acr-automotive-1g2.9","depends_on_id":"acr-automotive-1g2","type":"parent-child","created_at":"2026-02-07T15:57:20.8004512-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-20s","title":"Move selectVehicle() to shared test-helpers.ts","description":"Extract selectVehicle() from vehicle-dropdown-search.spec.ts (lines 18-43) into tests/e2e/helpers/test-helpers.ts. Update import in dropdown spec. Consistent with quickSearch() pattern.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:11:18.0857283-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.6058722-06:00","closed_at":"2026-02-05T23:35:15.6058722-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-20s","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:15.504487-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-20s","depends_on_id":"acr-automotive-49d","type":"blocks","created_at":"2026-02-05T17:13:32.2993053-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-28v","title":"Support Spanish column headers in import parser","notes":"Export template should be downloadable in Spanish or English. Import parser needs a SPANISH_HEADER_TO_PROPERTY mapping in constants.ts so headerToPropertyName() handles both languages. Status values (Activo/Active) already work via WORKFLOW_STATUS_MAP. ~20 lines of code.","status":"open","priority":3,"issue_type":"feature","owner":"abelmak07@gmail.com","created_at":"2026-02-07T02:14:08.8434442-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T02:14:08.8434442-06:00"}
{"id":"acr-automotive-2xj","title":"Run full test suite and create PR","description":"Run npx playwright test, verify 65+ tests pass. Create PR from test/search-e2e-cleanup into dev. Use superpowers:finishing-a-development-branch skill.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:12:59.3730485-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.8735793-06:00","closed_at":"2026-02-05T23:35:15.8735793-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-2xj","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:16.5792048-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-2xj","depends_on_id":"acr-automotive-ghs","type":"blocks","created_at":"2026-02-05T17:13:32.8166212-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-2xj","depends_on_id":"acr-automotive-l99","type":"blocks","created_at":"2026-02-05T17:13:33.0880861-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-2xj","depends_on_id":"acr-automotive-ddy","type":"blocks","created_at":"2026-02-05T17:13:33.3481961-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-37n","title":"E2E: UI Interaction Tests (results + part detail)","notes":"ui-interactions.spec.ts: quickSearch fixed. Homepage tests don't use quickSearch. Part detail h1 strict mode fixed in sku-search (heading role). UI detail tests check for Specifications, Vehicle Applications, Cross References sections.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:20:25.6375274-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:36:50.9155932-06:00","closed_at":"2026-02-05T00:36:50.9155932-06:00","close_reason":"All tests passing 65/65 x3 consecutive runs after hydration fix","dependencies":[{"issue_id":"acr-automotive-37n","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:25:58.0593151-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-37n","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:52.6810641-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-37n","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:57.8915725-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-49d","title":"Setup external worktree and run baseline tests","description":"Create worktree at ../acr-search-tests, npm install, run Playwright baseline (65/65 expected). Document Next.js worktree gotchas in MEMORY.md.","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:09:08.8348403-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.4135467-06:00","closed_at":"2026-02-05T23:35:15.4135467-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-49d","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:14.7262573-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy","title":"E2E: Export/Import Test Suite","description":"Comprehensive E2E test suite for the admin export/import critical path. ~53 tests across export template verification, import CRUD via wizard UI, API-level validation tests, round-trip compatibility, and image URL round-trip. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","notes":"Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"in_progress","priority":1,"issue_type":"feature","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:38:20.4237539-06:00","created_by":"Abel Mak","updated_at":"2026-02-06T01:05:09.0314309-06:00"}
{"id":"acr-automotive-4hy.1","title":"Phase 0: Playwright admin auth setup fixture","description":"Create auth.setup.ts that logs in as admin user and saves storageState. Update playwright.config.ts with setup project dependency.","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:39:15.0740281-06:00","created_by":"Abel Mak","updated_at":"2026-02-06T01:27:11.6583603-06:00","closed_at":"2026-02-06T01:27:11.6583603-06:00","close_reason":"Auth setup fixture created (tests/e2e/auth.setup.ts), playwright.config.ts updated with setup project + storageState, .gitignore updated. Verified: auth login passes, existing smoke tests still pass.","dependencies":[{"issue_id":"acr-automotive-4hy.1","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:39:15.0750896-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.2","title":"Phase 1: TestWorkbookBuilder utility","description":"Programmatic Excel workbook generator using ExcelJS. Imports column definitions from shared/constants.ts. Fluent API for parts, vehicle apps, aliases, cross-refs, _action, _id. Unit test validates round-trip with ExcelImportService.parseFile().","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:39:33.1521162-06:00","created_by":"Abel Mak","updated_at":"2026-02-06T01:27:19.4023575-06:00","closed_at":"2026-02-06T01:27:19.4023575-06:00","close_reason":"TestWorkbookBuilder created (tests/e2e/helpers/workbook-builder.ts) with fluent API: addPart, addPartWithCrossRefs, addVehicleApp, addAlias, setPartAction, setPartId, toBuffer, toFile. Unit tests: 9/9 passing. Round-trip compatibility verified with ExcelImportService.parseFile(). Found Aliases instruction row incompatibility (see 4hy.7).","dependencies":[{"issue_id":"acr-automotive-4hy.2","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:39:33.1536604-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.3","title":"Phase 2: Export E2E tests (12 tests)","description":"Template structure verification (sheets, columns, order, hidden cols, group headers, instructions), data integrity (row counts match DB, cross-refs spot check), filtered export, data validation dropdowns.","status":"closed","priority":2,"issue_type":"task","assignee":"abelm","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:39:46.1036867-06:00","created_by":"Abel Mak","updated_at":"2026-02-06T02:30:42.4530968-06:00","closed_at":"2026-02-06T02:08:27.3515807-06:00","close_reason":"Phase 2 complete: 13/13 export E2E tests passing. Covers template structure, column headers, hidden columns, data integrity, cross-refs, validation, and aliases.","dependencies":[{"issue_id":"acr-automotive-4hy.3","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:39:46.1047538-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.3","depends_on_id":"acr-automotive-4hy.1","type":"blocks","created_at":"2026-02-05T02:43:40.7976656-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.4","title":"Phase 3: Import E2E tests — hybrid strategy (26 tests)","description":"UI happy path: wizard flow for add, update, delete, rollback (14 tests). API validation: error codes E1-E22 and warning codes W11-W12 (12 tests). Includes DB snapshot helper for E2E.","notes":"Phase 3 tests written. 12 validation API tests pass. 5 UI tests marked test.fixme() pending production bug fixes (jm9, e6g, checkbox data-testid). Pausing test suite work to stress-test and fix production import pipeline first.","status":"in_progress","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:41:03.4329131-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T01:02:54.3314662-06:00","dependencies":[{"issue_id":"acr-automotive-4hy.4","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:41:03.433951-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.4","depends_on_id":"acr-automotive-4hy.1","type":"blocks","created_at":"2026-02-05T02:43:40.9948938-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.4","depends_on_id":"acr-automotive-4hy.2","type":"blocks","created_at":"2026-02-05T02:43:41.220108-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.5","title":"Phase 4: Round-trip compatibility tests (10 tests)","description":"Export -\u003e modify -\u003e re-import -\u003e verify DB. No-modification round-trip (zero diff), CRUD modifications, database verification, rollback, import history. Critical compatibility check between new export and import pipeline.","notes":"Phase 4 tests written. 3 pass, 10 marked test.fixme() pending jm9 fix. Pausing test suite work to stress-test and fix production import pipeline first.","status":"in_progress","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:42:43.66235-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T01:02:54.6136743-06:00","dependencies":[{"issue_id":"acr-automotive-4hy.5","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:42:43.663955-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.5","depends_on_id":"acr-automotive-4hy.1","type":"blocks","created_at":"2026-02-05T02:43:41.4306977-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.5","depends_on_id":"acr-automotive-4hy.2","type":"blocks","created_at":"2026-02-05T02:43:41.6244317-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.5","depends_on_id":"acr-automotive-4hy.3","type":"blocks","created_at":"2026-02-05T02:43:41.8172495-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.6","title":"Phase 5: Image URL round-trip tests (3 tests)","description":"Verify Image_URL columns survive export/import. Export has Storage URLs, import writes to part_images, no-change round-trip preserves data.","status":"open","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:43:09.0940307-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T02:43:09.0940307-06:00","dependencies":[{"issue_id":"acr-automotive-4hy.6","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-05T02:43:09.0950771-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-4hy.6","depends_on_id":"acr-automotive-4hy.5","type":"blocks","created_at":"2026-02-05T02:43:42.0226679-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-4hy.7","title":"Fix: detectHeaderFormat misses Aliases instruction row","description":"The import parser's detectHeaderFormat() does not recognize instruction text on the Aliases sheet (e.g. 'Nickname or alternate name') because its pattern matching only checks for phrases like 'separate with', 'Do not', 'e.g.,' etc. This causes the instruction row to be parsed as data. Fix: add more instruction patterns or detect by row 3 having non-data content.","status":"closed","priority":2,"issue_type":"bug","owner":"abelmak07@gmail.com","created_at":"2026-02-06T01:12:03.352183-06:00","created_by":"Abel Mak","updated_at":"2026-02-06T02:08:26.9353017-06:00","closed_at":"2026-02-06T02:08:26.9353017-06:00","close_reason":"Fixed: Added Aliases instruction patterns (EN+ES) to detectHeaderFormat() and added 'type' → 'alias_type' mapping to headerToPropertyName(). 107/107 unit tests passing.","dependencies":[{"issue_id":"acr-automotive-4hy.7","depends_on_id":"acr-automotive-4hy","type":"parent-child","created_at":"2026-02-06T01:12:03.3532491-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-5q8","title":"[Epic] Harden E2E Search Test Suite","description":"Implement items 1-6 from analysis plan: data-testid attributes, centralize UI strings, move selectVehicle to shared helpers, standardize assertions, add sort-order test, add seed data integrity check.","notes":"Plan: ~/.claude/plans/deep-strolling-nova.md\n\n## Next.js Worktree Issues Encountered\n\n### Problem 1: Dual Lockfile Detection (Next.js 15.4+)\nTurbopack walks up directories looking for lockfiles. Internal worktree (.worktrees/) meant it found both acr-automotive/package-lock.json AND .worktrees/.../package-lock.json. Next.js selected the wrong root.\n\nFix: Create worktree at sibling level (../acr-search-tests) OR set turbopack.root in next.config.js\n\n### Problem 2: SWC Native Binary Corruption\nNetwork-interrupted npm install left corrupt @next/swc-win32-x64-msvc. Error: 'not a valid Win32 application'. WASM fallback doesn't support turbo.createProject.\n\nFix: rm -rf node_modules \u0026\u0026 npm install\n\n### References\n- https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack\n- https://github.com/vercel/next.js/issues/82689\n- https://github.com/vercel/next.js/issues/67754","status":"closed","priority":2,"issue_type":"epic","owner":"abelmak07@gmail.com","created_at":"2026-02-05T02:19:04.5722328-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:26.1757998-06:00","closed_at":"2026-02-05T23:35:26.1757998-06:00","close_reason":"All 8 subtasks complete, PR #42 created"}
{"id":"acr-automotive-640","title":"E2E: SKU Search Tests (ACR + partial)","notes":"Spec file written: tests/e2e/sku-search.spec.ts (11 tests). BLOCKED: search_by_sku RPC param mismatch fixed in route.ts (search_term→search_sku). PostgREST schema cache stale — needs supabase restart (in progress, downloading new images). Also 3 of 7 test SKUs are INACTIVE — need to update VALID_ACR_SKUS to only use ACTIVE parts. Plan: ~/.claude/plans/drifting-foraging-milner.md","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:16:36.7717641-06:00","created_by":"Abel Mak","updated_at":"2026-02-04T23:42:02.3115843-06:00","closed_at":"2026-02-04T23:42:02.3115843-06:00","close_reason":"11/11 tests passing. Fixed: quickSearch selector bug (was clicking Clear search instead of Search), INACTIVE SKU references in test-data.ts, h1 strict mode on detail page.","dependencies":[{"issue_id":"acr-automotive-640","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:21:31.3254645-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-640","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:51.6206284-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-640","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:56.962899-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-6a9","title":"E2E: Vehicle Keyword/Alias Search Tests","notes":"vehicle-keyword-search.spec.ts: quickSearch fixed. waitForURL uses /[?\u0026]sku=/ but vehicle keyword searches may use different URL params — needs testing. Alias data verified: chevy(269), dodge(139), beemer(105), stang(5), vette(5). vw/merc/cammy have 0 apps.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:17:02.0635687-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:36:50.7674211-06:00","closed_at":"2026-02-05T00:36:50.7674211-06:00","close_reason":"All tests passing 65/65 x3 consecutive runs after hydration fix","dependencies":[{"issue_id":"acr-automotive-6a9","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:22:41.8582796-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-6a9","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:52.0548948-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-6a9","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:57.3309828-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-857","title":"Add data-testid attributes to search results and part detail","description":"Add data-testid='search-results' to PublicPartsList.tsx results container. Add data-testid='part-detail' to part detail page. These enable scoped assertions instead of body-wide text matching.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:10:09.4083838-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.480772-06:00","closed_at":"2026-02-05T23:35:15.480772-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-857","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:14.9282692-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-857","depends_on_id":"acr-automotive-49d","type":"blocks","created_at":"2026-02-05T17:13:31.7795969-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-86l","title":"E2E: Error State \u0026 Invalid Input Tests","notes":"error-states.spec.ts: quickSearch fixed. WARNING: waitForURL /[?\u0026]sku=/ will timeout for error inputs (special chars, unicode, etc) that may not produce URL params. Need to rework quickSearch for error tests or use direct click + waitForResponse.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:20:13.4829517-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:36:50.867471-06:00","closed_at":"2026-02-05T00:36:50.867471-06:00","close_reason":"All tests passing 65/65 x3 consecutive runs after hydration fix","dependencies":[{"issue_id":"acr-automotive-86l","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:24:40.9002943-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-86l","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:52.4776414-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-86l","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:57.706341-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-8f3","title":"Preview endpoint hangs on invalid year range (start \u003e end)","description":"Stress test 11c: uploading a workbook with start_year=2025, end_year=2020 on a VA row causes the /api/admin/import/preview endpoint to hang indefinitely (~5min until fetch timeout). Server never responds. Likely infinite loop or deadlock in validation/diff pipeline when processing invalid year ranges.","status":"open","priority":3,"issue_type":"bug","owner":"abelmak07@gmail.com","created_at":"2026-02-07T17:21:58.4094202-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:22:27.747882-06:00"}
{"id":"acr-automotive-9b6","title":"[Epic] Comprehensive Testing Suite - Excel Import/Export \u0026 Public Search","notes":"Plan: ~/.claude/plans/drifting-foraging-milner.md","status":"closed","priority":2,"issue_type":"epic","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:21.3055979-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:37:26.5571973-06:00","closed_at":"2026-02-05T00:37:26.5571973-06:00","close_reason":"All 17 child tasks complete. 65 E2E tests + unit/integration tests all passing."}
{"id":"acr-automotive-9b6.1","title":"Unit Tests - Search Type Detection \u0026 Image Enrichment","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:28.4197785-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:37:45.2167573-06:00","closed_at":"2026-02-03T01:37:45.2167573-06:00","close_reason":"Closed","dependencies":[{"issue_id":"acr-automotive-9b6.1","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:28.4213405-06:00","created_by":"Abel Mak"}],"comments":[{"id":1,"issue_id":"acr-automotive-9b6.1","author":"Abel Mak","text":"Created tests/unit/search/search-type-detection.test.ts (16 tests). Extracted detectVehicleKeyword to src/lib/utils/search.ts. Image enrichment deferred to API integration tests.","created_at":"2026-02-03T07:38:23Z"}]}
{"id":"acr-automotive-9b6.10","title":"E2E: Playwright Setup \u0026 Config","notes":"Plan: ~/.claude/plans/drifting-foraging-milner.md (Part 3: E2E Tests)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:17:00.1665288-06:00","created_by":"Abel Mak","updated_at":"2026-02-04T22:26:00.9353981-06:00","closed_at":"2026-02-04T22:26:00.9353981-06:00","close_reason":"Playwright v1.58.1 installed, all browsers available, config + smoke tests passing (3/3)","dependencies":[{"issue_id":"acr-automotive-9b6.10","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:17:00.1675915-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.2","title":"Unit Tests - Excel Import Service","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:31.3098765-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:45:27.5357493-06:00","closed_at":"2026-02-03T01:45:27.5357493-06:00","close_reason":"Created comprehensive unit tests for ExcelImportService - 27 tests covering parseFile, header format detection, validateFileFormat, isExportedFile, data type handling, and error handling","dependencies":[{"issue_id":"acr-automotive-9b6.2","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:31.3109267-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.3","title":"Unit Tests - Validation Engine (extend E1-E15, W12)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:34.2747056-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:47:34.1206122-06:00","closed_at":"2026-02-03T01:47:34.1206122-06:00","close_reason":"Extended ValidationEngine tests with 13 new tests for E1, E9-E10, E20-E22, W11-W12, and brand column validations. Total 26 tests now pass.","dependencies":[{"issue_id":"acr-automotive-9b6.3","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:34.2757692-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.4","title":"Unit Tests - Diff Engine (workflow_status, splitCrossRefSkus)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:37.0517091-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:37:45.4236779-06:00","closed_at":"2026-02-03T01:37:45.4236779-06:00","close_reason":"Closed","dependencies":[{"issue_id":"acr-automotive-9b6.4","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:37.0527497-06:00","created_by":"Abel Mak"}],"comments":[{"id":2,"issue_id":"acr-automotive-9b6.4","author":"Abel Mak","text":"Renamed phase3a-diff-engine.test.ts to diff-engine.test.ts. Added 5 tests for space-delimited SKUs, mixed delimiters, workflow_status handling. Fixed bug: added workflow_status comparison to DiffEngine.detectPartChanges().","created_at":"2026-02-03T07:38:35Z"}]}
{"id":"acr-automotive-9b6.5","title":"Integration Tests - Public Parts API (/api/public/parts)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:42.8399862-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:57:33.317298-06:00","closed_at":"2026-02-03T01:57:33.317298-06:00","close_reason":"Deferred: E2E tests will cover API integration implicitly. Revisit at end if gaps found.","dependencies":[{"issue_id":"acr-automotive-9b6.5","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:42.8410258-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.6","title":"Integration Tests - Vehicle Options API","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:45.6721322-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:57:33.3591724-06:00","closed_at":"2026-02-03T01:57:33.3591724-06:00","close_reason":"Deferred: E2E tests will cover API integration implicitly. Revisit at end if gaps found.","dependencies":[{"issue_id":"acr-automotive-9b6.6","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:45.6731763-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.7","title":"Integration Tests - RPC Search Functions (search_by_sku, search_by_vehicle, search_by_vehicle_keyword)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:48.4059834-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:57:33.4010052-06:00","closed_at":"2026-02-03T01:57:33.4010052-06:00","close_reason":"Deferred: E2E tests will cover API integration implicitly. Revisit at end if gaps found.","dependencies":[{"issue_id":"acr-automotive-9b6.7","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:48.4070189-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.8","title":"Integration Tests - Excel Import Pipeline (round-trip, rollback)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:51.204586-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T01:57:33.4415665-06:00","closed_at":"2026-02-03T01:57:33.4415665-06:00","close_reason":"Deferred: E2E tests will cover API integration implicitly. Revisit at end if gaps found.","dependencies":[{"issue_id":"acr-automotive-9b6.8","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:51.2066916-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-9b6.9","title":"E2E Tests - Planning \u0026 User Scenario Breakdown","notes":"Plan: ~/.claude/plans/drifting-foraging-milner.md (Part 3: E2E Tests)","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T01:16:57.3935716-06:00","created_by":"Abel Mak","updated_at":"2026-02-03T02:16:14.5867388-06:00","closed_at":"2026-02-03T02:16:14.5867388-06:00","close_reason":"E2E test plan completed in ~/.claude/plans/drifting-foraging-milner.md (Part 3)","dependencies":[{"issue_id":"acr-automotive-9b6.9","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T01:16:57.3946576-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age","title":"[Epic] Excel Import/Export Pipeline Enhancement","description":"Retroactive epic tracking all Excel import/export pipeline work completed before beads adoption. Covers Phase 2 (export beautification), Phase 3A (cross-refs in Parts sheet), Phase 3B (image URL management + Photo Manager), import flow UI polish, and supporting DB migrations.","notes":"Plans: linear-splashing-token.md (Phase 2), splendid-scribbling-lemur.md (Phase 3), graceful-tickling-kettle.md (Import UI)","status":"closed","priority":1,"issue_type":"epic","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:06:22.9536293-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:58.9556889-06:00","closed_at":"2026-02-05T01:12:58.9556889-06:00","close_reason":"Retroactive: all Excel import/export enhancement work completed before beads adoption"}
{"id":"acr-automotive-age.1","title":"Phase 2: Export Beautification (pastel styling, i18n instructions row)","description":"ML-inspired Excel styling: pastel group headers, friendly column names (no underscores), bilingual instructions row (Row 3), Photo Manager hyperlinks, freeze panes. Plan: linear-splashing-token.md","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:07:27.2551969-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:10.8277228-06:00","closed_at":"2026-02-05T01:12:10.8277228-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.1","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:07:27.2567453-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.2","title":"Phase 3A: Cross-References inline in Parts sheet (11 brand columns)","description":"Eliminated Cross References sheet. 11 brand columns (NATIONAL, ATV, SYD, TMK, GROB, RACE, OEM, OEM 2, GMB, GSP, FAG) with semicolon-separated SKUs. Sync-to-Excel delete semantics. Updated constants, types, ExportService, ImportService, ValidationEngine, DiffEngine. Plan: splendid-scribbling-lemur.md","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:09:15.2707102-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:10.8676583-06:00","closed_at":"2026-02-05T01:12:10.8676583-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.2","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:09:15.2717593-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.3","title":"Phase 3B: Image URL columns + Photo Manager dashboard","description":"4 image URL columns (Front, Back, Top, Other) + 360_Viewer_Status readonly column. ML Gestor de fotos pattern: standalone /admin/upload-images dashboard for drag-drop upload to Supabase Storage with Copy URL workflow. Import upserts by view_type (merge mode). Plan: splendid-scribbling-lemur.md","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:09:29.4872717-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:10.9057385-06:00","closed_at":"2026-02-05T01:12:10.9057385-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.3","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:09:29.4883316-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.4","title":"Part_Action column (ELIMINAR/PAUSAR) + workflow_status DB migration","description":"Added Part_Action column to Excel (ELIMINAR=delete, PAUSAR=hide). DB migration: workflow_status column on parts table (ACTIVE/INACTIVE/DELETE). Search RPCs filter by workflow_status=ACTIVE. Seed script marks 5 test parts as INACTIVE.","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:09:43.0616676-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:10.9426387-06:00","closed_at":"2026-02-05T01:12:10.9426387-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.4","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:09:43.0622064-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.5","title":"Import flow UI polish (animations, AcrSpinner, step indicators)","description":"Enhanced /import wizard: gradient step indicators, AcrSpinner replacing Loader2, stagger animations (acr-animate-fade-up), drag-drop visual feedback, ACR typography classes. Plan: graceful-tickling-kettle.md","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:09:58.0079252-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:10.9816785-06:00","closed_at":"2026-02-05T01:12:10.9816785-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.5","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:09:58.0090421-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.6","title":"DiffEngine: splitCrossRefSkus, brand column diffing, workflow_status","description":"DiffEngine handles semicolon AND space-delimited SKU parsing via splitCrossRefSkus(). Brand column sync-to-Excel diffing (missing=delete). Part_Action processing. Normalized null/undefined/empty comparison.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:11:12.898051-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:11.0185914-06:00","closed_at":"2026-02-05T01:12:11.0185914-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.6","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:11:12.8990823-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.7","title":"ValidationEngine: complete E1-E15 error codes + W12 space-delimited SKUs","description":"Full validation coverage: E1 (missing IDs), E3 (empty required), E4 (field length), E5 (year range), E6 (enums), E7 (duplicate SKU), E8 (image URL), E9 (brand format), E10 (missing sheets), E11-E15, plus W1-W5 warnings and W12 for legacy space-delimited SKU format.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:11:26.6808641-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:11.0565031-06:00","closed_at":"2026-02-05T01:12:11.0565031-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.7","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:11:26.6829268-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-age.8","title":"Deprecate bulk image upload system (replaced by Photo Manager)","description":"Removed /admin/bulk-image-upload page, API routes (analyze + execute), all BulkImageUpload components, sku-extractor/file-classifier utils, test scripts. Updated admin nav to point to /admin/upload-images instead.","status":"closed","priority":3,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T01:11:41.5618467-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T01:12:11.0940916-06:00","closed_at":"2026-02-05T01:12:11.0940916-06:00","close_reason":"Retroactive: completed before beads adoption","dependencies":[{"issue_id":"acr-automotive-age.8","depends_on_id":"acr-automotive-age","type":"parent-child","created_at":"2026-02-05T01:11:41.5628847-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-ddy","title":"Add seed data integrity check","description":"New test or script that queries local Supabase and asserts CATALOG_STATS values (865 parts, 860 active, 1000 vehicle_apps, 1000 cross_refs, 15 aliases) match actual DB. Safety net for seed-data drift.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:12:04.1486957-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.794754-06:00","closed_at":"2026-02-05T23:35:15.794754-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-ddy","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:16.3343294-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-e6g","title":"Bug: RollbackService blocked by RLS on parts table","description":"RollbackService.restoreSnapshotData uses the app Supabase client (anon key) which is blocked by RLS policies on the parts table. Rollback fails with: new row violates row-level security policy for table parts. Needs to use service_role key for restore operations. Discovered by E2E rollback test in admin-import.spec.ts.","status":"closed","priority":2,"issue_type":"bug","owner":"abelmak07@gmail.com","created_at":"2026-02-06T23:59:26.2454027-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T02:30:20.7861338-06:00","closed_at":"2026-02-07T02:30:20.7861338-06:00","close_reason":"Fixed: ImportService and RollbackService now use createAdminClient() (service role) to bypass RLS. Both routes pass service role client instead of defaulting to anon key."}
{"id":"acr-automotive-ghs","title":"Standardize assertions with scoped selectors","description":"Replace body-wide assertions (page.locator('body').toContainText()) with scoped selectors ([data-testid='search-results']). Standardize empty-result checks in error-states.spec.ts. Reduces false positives.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:11:30.3052641-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.6700068-06:00","closed_at":"2026-02-05T23:35:15.6700068-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-ghs","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:15.7819966-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-ghs","depends_on_id":"acr-automotive-857","type":"blocks","created_at":"2026-02-05T17:13:32.5546659-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-i4s","title":"E2E: Vehicle Dropdown Search Tests","notes":"vehicle-dropdown-search.spec.ts: Button selectors fixed to exact:true. Vehicle combos verified against DB: ACURA MDX 2020, AUDI A4 QUATTRO 2015, ACURA CL 1997, FORD EDGE 2010 all have data. INACTIVE_VEHICLE_COMBO added: AUDI A4 QUATTRO 2005 → ACR512305 (INACTIVE).","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:17:40.0306101-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:36:50.8189927-06:00","closed_at":"2026-02-05T00:36:50.8189927-06:00","close_reason":"All tests passing 65/65 x3 consecutive runs after hydration fix","dependencies":[{"issue_id":"acr-automotive-i4s","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:24:26.6837707-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-i4s","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:52.2658061-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-i4s","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:57.5238132-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-jm9","title":"Bug: ImportService duplicate cross-ref constraint on re-import","description":"When re-importing an exported catalog, ImportService.executeBulkOperations fails with: duplicate key value violates unique constraint idx_cross_refs_unique_per_tenant. The DiffEngine incorrectly treats unchanged cross-references as adds during round-trip import. Discovered by E2E round-trip tests in admin-round-trip.spec.ts.","status":"closed","priority":1,"issue_type":"bug","owner":"abelmak07@gmail.com","created_at":"2026-02-06T23:59:26.0603044-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T02:16:22.1519637-06:00","closed_at":"2026-02-07T02:16:22.1519637-06:00","close_reason":"Test 1 identity round-trip passes. Fixed: splitCrossRefSkus space-splitting, DiffEngine status comparison, fetchExistingData missing workflow_status."}
{"id":"acr-automotive-l99","title":"Add sort-order verification test","description":"New test in ui-interactions.spec.ts: search for term with multiple results, verify first result has has_360_viewer or product images (API sorts these first). Currently no test detects sorting regressions.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:11:44.3282545-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.730629-06:00","closed_at":"2026-02-05T23:35:15.730629-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-l99","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:16.0789351-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-r78","title":"E2E: Seed local Supabase with test data for E2E","notes":"BLOCKING: All E2E test tasks depend on this. Seed local Docker Supabase with representative data (parts, vehicle_applications, cross_references, vehicle_aliases). Plan: ~/.claude/plans/drifting-foraging-milner.md Section 3.1.1","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-04T22:32:38.8080016-06:00","created_by":"Abel Mak","updated_at":"2026-02-04T22:43:11.7273931-06:00","closed_at":"2026-02-04T22:43:11.7273931-06:00","close_reason":"Local Supabase already seeded: 865 parts, 1000 vehicle apps, 1000 cross refs, 15 aliases. Updated test-data.ts to match actual local data.","dependencies":[{"issue_id":"acr-automotive-r78","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-04T22:32:56.7772733-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc","title":"Stress test import API with real data \u0026 fix production bugs","status":"open","priority":1,"issue_type":"epic","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:02:38.8376729-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T01:43:40.5654043-06:00","dependencies":[{"issue_id":"acr-automotive-slc","depends_on_id":"acr-automotive-1g2","type":"blocks","created_at":"2026-02-07T15:03:18.9355958-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.1","title":"Create stress test script scaffolding","notes":"Create scripts/stress-test-import.ts with test harness, ExcelJS workbook manipulation, fetch-based API calls, Supabase service role client for DB verification. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:43:52.904923-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T01:56:09.4740381-06:00","closed_at":"2026-02-07T01:56:09.4740381-06:00","close_reason":"Script scaffolding created at scripts/stress-test-import.ts","dependencies":[{"issue_id":"acr-automotive-slc.1","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:43:52.9059552-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.2","title":"Test 1: Identity round-trip + fix DiffEngine cross-ref bug (jm9)","notes":"Export catalog, re-import unchanged to /preview. Must show 0 adds/updates/deletes. Known bug jm9: DiffEngine treats unchanged cross-refs as adds. Fix DiffEngine.diffCrossRefsFromBrandColumns(). GATE for all other tests. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":1,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:44:02.1938055-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T02:16:22.0923191-06:00","closed_at":"2026-02-07T02:16:22.0923191-06:00","close_reason":"Test 1 identity round-trip passes. Fixed: splitCrossRefSkus space-splitting, DiffEngine status comparison, fetchExistingData missing workflow_status.","dependencies":[{"issue_id":"acr-automotive-slc.2","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:44:02.1948458-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.2","depends_on_id":"acr-automotive-slc.1","type":"blocks","created_at":"2026-02-07T01:45:35.21834-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.3","title":"Tests 2-5: Basic CRUD operations (add, add+xrefs, update, delete)","notes":"Tests 2-4 pass. Test 5 (delete) blocked by E19 validator — will be resolved by SKU-based matching refactor.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:44:10.7292668-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:23:39.5943494-06:00","closed_at":"2026-02-07T17:23:39.5943494-06:00","close_reason":"All stress tests 1-10 pass after VA composite key fix","dependencies":[{"issue_id":"acr-automotive-slc.3","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:44:10.7308342-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.3","depends_on_id":"acr-automotive-slc.2","type":"blocks","created_at":"2026-02-07T01:45:35.4437317-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.4","title":"Tests 6-7: Cross-ref add/delete operations","notes":"Test 6: Add cross-ref to existing part (append ;STRESS-XREF-001). Test 7: Delete cross-ref via [DELETE] marker. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:44:55.4245985-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:23:39.6023269-06:00","closed_at":"2026-02-07T17:23:39.6023269-06:00","close_reason":"All stress tests 1-10 pass after VA composite key fix","dependencies":[{"issue_id":"acr-automotive-slc.4","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:44:55.4256394-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.4","depends_on_id":"acr-automotive-slc.3","type":"blocks","created_at":"2026-02-07T01:45:35.6709015-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.5","title":"Tests 8-9: Mixed CRUD + Bulk operations","notes":"Test 8: All ops in one file. Test 9a: 50 bulk updates. Test 9b: 50 bulk deletes. Test 9c: 50 bulk adds with xrefs. Test 9d: 100+ mixed ops. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:45:01.0001698-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:23:39.6092653-06:00","closed_at":"2026-02-07T17:23:39.6092653-06:00","close_reason":"All stress tests 1-10 pass after VA composite key fix","dependencies":[{"issue_id":"acr-automotive-slc.5","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:45:01.0013333-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.5","depends_on_id":"acr-automotive-slc.4","type":"blocks","created_at":"2026-02-07T01:45:35.8531737-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.6","title":"Test 10: Rollback + fix RollbackService RLS bug (e6g)","notes":"e6g RLS bug already fixed (createAdminClient). Rollback test still pending.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:45:06.2768961-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:23:39.6161581-06:00","closed_at":"2026-02-07T17:23:39.6161581-06:00","close_reason":"All stress tests 1-10 pass after VA composite key fix","dependencies":[{"issue_id":"acr-automotive-slc.6","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:45:06.2774253-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.6","depends_on_id":"acr-automotive-slc.5","type":"blocks","created_at":"2026-02-07T01:45:36.0854752-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.7","title":"Test 11: Edge cases (graceful failures)","notes":"Test no Parts sheet, duplicate SKUs, invalid year range, spaces instead of semicolons, missing part ref, empty workbook, zero data rows. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"closed","priority":3,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:45:10.7142221-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T17:24:30.25762-06:00","closed_at":"2026-02-07T17:24:30.25762-06:00","close_reason":"Tests 11a-11b pass; 11c hangs (filed as acr-automotive-8f3)","dependencies":[{"issue_id":"acr-automotive-slc.7","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:45:10.7153097-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.7","depends_on_id":"acr-automotive-slc.5","type":"blocks","created_at":"2026-02-07T01:45:36.3247794-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-slc.8","title":"Re-enable fixme'd E2E tests after bug fixes","notes":"After all stress tests pass and bugs are fixed: re-enable test.fixme() in admin-import.spec.ts (5 tests) and admin-round-trip.spec.ts (10 tests). Run full E2E suite. Plan: ~/.claude/plans/jiggly-yawning-abelson.md","status":"open","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-07T01:45:16.4197836-06:00","created_by":"Abel Mak","updated_at":"2026-02-07T01:45:16.4197836-06:00","dependencies":[{"issue_id":"acr-automotive-slc.8","depends_on_id":"acr-automotive-slc","type":"parent-child","created_at":"2026-02-07T01:45:16.4208003-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.8","depends_on_id":"acr-automotive-slc.6","type":"blocks","created_at":"2026-02-07T01:45:36.55115-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-slc.8","depends_on_id":"acr-automotive-slc.7","type":"blocks","created_at":"2026-02-07T01:45:36.7818617-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-ww9","title":"E2E: Cross-Reference Search Tests","notes":"cross-ref-search.spec.ts: quickSearch selector fixed (exact: true). Import updated to ACTIVE_CROSS_REFS + INACTIVE_CROSS_REFS. MC2133-S test now targets INACTIVE part ACR512220 — should return empty. Not yet run.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-03T02:16:48.7348076-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T00:36:50.7163878-06:00","closed_at":"2026-02-05T00:36:50.7163878-06:00","close_reason":"All tests passing 65/65 x3 consecutive runs after hydration fix","dependencies":[{"issue_id":"acr-automotive-ww9","depends_on_id":"acr-automotive-9b6","type":"parent-child","created_at":"2026-02-03T02:21:50.1985492-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-ww9","depends_on_id":"acr-automotive-9b6.10","type":"blocks","created_at":"2026-02-03T02:26:51.8442029-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-ww9","depends_on_id":"acr-automotive-r78","type":"blocks","created_at":"2026-02-04T22:32:57.145997-06:00","created_by":"Abel Mak"}]}
{"id":"acr-automotive-y0z","title":"Centralize UI strings in test-data.ts","description":"Add UI_STRINGS constant to tests/e2e/fixtures/test-data.ts with noResults, vehicleApps, crossRefs, etc. Replace ~20 hardcoded string literals across 6 spec files. Reduces maintenance burden when UI copy changes.","status":"closed","priority":2,"issue_type":"task","owner":"abelmak07@gmail.com","created_at":"2026-02-05T17:10:36.4769979-06:00","created_by":"Abel Mak","updated_at":"2026-02-05T23:35:15.5463253-06:00","closed_at":"2026-02-05T23:35:15.5463253-06:00","close_reason":"PR #42 created: 74/74 tests passing","dependencies":[{"issue_id":"acr-automotive-y0z","depends_on_id":"acr-automotive-5q8","type":"blocks","created_at":"2026-02-05T17:13:15.2119549-06:00","created_by":"Abel Mak"},{"issue_id":"acr-automotive-y0z","depends_on_id":"acr-automotive-49d","type":"blocks","created_at":"2026-02-05T17:13:32.030442-06:00","created_by":"Abel Mak"}]}
